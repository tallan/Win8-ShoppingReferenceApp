<!--*************************************************************************
*
*    Copyright (c) 2013 Tallan Inc.  All rights reserved. 
*
*    Use of this sample source code is subject to the terms of the Microsoft Limited Public License
*    at http://msdn.microsoft.com/en-us/cc300389.aspx#P and is provided AS-IS. 
*
*    For more information about Tallan, visit our website, http://tallan.com/.     
*
*    To see the topic that inspired this sample app, go to http://msdn.microsoft.com/en-us/library/windows/apps/jj635241. 
*
*************************************************************************-->

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Category</title>
    <link href="//Microsoft.WinJS.1.0/css/ui-light.css" rel="stylesheet" />
    <link href="/css/default.css" rel="stylesheet" />
    <link href="/pages/categories/categories.css" rel="stylesheet" />

    <script src="//Microsoft.WinJS.1.0/js/base.js"></script>
    <script src="//Microsoft.WinJS.1.0/js/ui.js"></script>
    <script src="///LiveSDKHTML/js/wl.js"></script>
    <script src="/Scripts/underscore.js"></script>

    <script src="/js/offline_services.js"></script>
    <script src="/js/services.js"></script>
    <script src="/js/api.js"></script>
    <script src="/js/binding.js"></script>
    <script src="/js/designModeShim.js"></script>
    <script src="/controls/simplelist.js"></script>
    <script src="/controls/filterbar.js"></script>

    <script src="/pages/categories/categoriesViewModel.js"></script>
    <script src="/pages/categories/categories.js"></script>
</head>
<body>

    <!-- These templates are used to display each item in the ListView declared below. -->
    <div class="zoomedouttemplate" data-win-control="WinJS.Binding.Template">
        <div class="column zoomColumn">
            <hgroup>
                <h3><span data-win-bind="textContent: Category"></span>(<span data-win-bind="textContent: ItemCount"></span> Items)</h3>
            </hgroup>
            <div class="zoomImage">
                <img src="#" alt="" style="height: 600px; margin-left: 75px;"
                    data-win-bind="src: CategoryImage; alt: Category" />
            </div>
        </div>
        <!-- /.zoomColumn -->
    </div>
    <div class="headertemplate" data-win-control="WinJS.Binding.Template">
        <header aria-label="Header content" role="banner" data-win-bind="groupKey: Category">
            <hgroup class="titlearea">
                <h1 class="pagetitle" data-win-bind="textContent: Category"></h1>
            </hgroup>
        </header>
    </div>
    <div class="itemtemplate" data-win-control="WinJS.Binding.Template">
        <div class="column itemColumn">
            <hgroup>
                <h3 data-win-bind="textContent: Name"></h3>
                <h4 data-win-bind="textContent: Price Shopping.Binding.currencyConverter"></h4>
            </hgroup>
            <div class="itemImage">
                <img src="#" data-win-bind="src: Image; alt: Name" class="fullImage" />
                <img src="#" class="thumbnailImage" alt=""
                    data-win-bind="src: ThumbnailImage; alt: Name" />
            </div>
            <div class="itemDesc">
                <p data-win-bind="textContent: Description"></p>
            </div>
        </div>
        <!-- /.itemColumn -->
    </div>

    <!-- The content that will be loaded and displayed. -->
    <div class="fragment categoriespage">
        <header class="snappedHeader">
            <hgroup class="titlearea">
                <h1 class="pagetitle"></h1>
            </hgroup>
        </header>
        <nav>
            <button type="button" id="backButton" aria-label="Back"></button>
        </nav>
        <section aria-label="Main content" role="main">
            <div class="zoomcontrol win-selectionstylefilled" data-win-control="WinJS.UI.SemanticZoom">

                <!-- Zoomed In View -->
                <div class="productslist win-selectionstylefilled" aria-label="List of Products"
                    data-win-control="WinJS.UI.ListView"
                    data-win-options="{ selectionMode: 'none' }">
                </div>

                <!-- Zoomed Out View -->
                <div class="categorieslist win-selectionstylefilled" aria-label="List of Categories"
                    data-win-control="WinJS.UI.ListView"
                    data-win-options="{ selectionMode: 'none' }">
                </div>

            </div>


            <div id="filterCategoryPopup" data-win-control="WinJS.UI.Flyout">
                <div id="filterCategoryBar" data-win-control="Shopping.Controls.FilterBar"></div>
            </div>
            <div id="filterRatingPopup" data-win-control="WinJS.UI.Flyout">
                <div id="filterRatingBar" data-win-control="Shopping.Controls.FilterBar" data-win-options="{ includeEmpty: true }"></div>
            </div>
            <div id="filterPricePopup" data-win-control="WinJS.UI.Flyout">
                <div id="filterPriceBar" data-win-control="Shopping.Controls.FilterBar" data-win-options="{ includeEmpty: true }"></div>
            </div>

        </section>
    </div>

    <div id="categoriesAppbar" data-win-control="WinJS.UI.AppBar">
        <button data-win-control="WinJS.UI.AppBarCommand" data-win-options="{id:'filterCategory', label:'Filter by Category', section:'selection', icon:'filter'}" type="button"></button>
        <button data-win-control="WinJS.UI.AppBarCommand" data-win-options="{id:'filterRating', label:'Filter by Rating', section:'selection', icon:'filter'}" type="button"></button>
        <button data-win-control="WinJS.UI.AppBarCommand" data-win-options="{id:'filterPrice', label:'Filter by Price', section:'selection', icon:'filter'}" type="button"></button>
    </div>

</body>
</html>
